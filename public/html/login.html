<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://kit.fontawesome.com/d1c1a361ea.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="../css/index.css">
  <title>Login</title>
  <link rel="stylesheet" href="../css/login.css">
  <script src="login.js"></script>
</head>

<body>
  <header>
    <div class="header-left"><a href="index.html"><img src="../images/logo_transparent2.png" alt="logo"
          style="height: 100px;"></a>
    </div>
    <div class="header-center">
      <h2>Login</h2>
    </div>
    <div class="header-right">
    </div>
  </header>
  <main>
    <div class="container">
      <div class="logo">
        <img src="../images/logo_transparent2.png" alt="Logo">
      </div>
      <h2>Login</h2>
      <span id="msg"></span>
      <form id="loginForm">
        <input type="text" name="username" placeholder="Username" id="username" required>
        <input type="password" name="password" placeholder="Password" id="password" required>
        <input type="button" value="Let's Eat" onclick="login()">
      </form>
      <div class="registration-link">
        <span style="font-size: 1.2em;">Don't have an account? </span><a href="registration.html">Register here</a>.
      </div>
    </div>
  </main>
  <footer>
    <div class="footer-left">
      <p>&copy; EatMyRocks</p>
    </div>
    <div class="footer-centre">
      <h3>Useful Links</h3>
      <ul>
        <li><a href="shop.html">Shop</a></li>
        <li><a href="aboutus.html">About Us</a></li>
        <li><a href="stoneguide.html">Stone Guide</a></li>
        <li><a href="recipes.html">Recipes</a></li>
      </ul>
    </div>
    <div class="footer-right">
      <h3>My Account</h3>
      <ul>
        <p class="logged"></p>
        <li><a href="login.html">Log In</a></li>
        <li><a href="shoppingcart.html">My Cart</a></li>
      </ul>
    </div>
  </footer>
</body>
<script>
  // Überprüfen Sie den Anmeldestatus (Beispiel)
  var isLoggedIn = false;

  // Elemente auswählen
  var cartIcon = document.querySelector('.fa-solid.fa-cart-shopping');

  // Klickereignis für Warenkorb-Icon handhaben
  cartIcon.addEventListener('click', function () {
    if (isLoggedIn) {
      // Weiterleitung zur Warenkorb-Seite
      window.location.href = "cart.html";
    } else {
      // Weiterleitung zur Login/Registrierungsseite
      window.location.href = "login.html";
    }
  });

  // JWT-Überprüfung durchführen und Kundennummer erhalten
  // Hier anstelle der Dummy-Werte die tatsächliche JWT-Überprüfung und Kundennummer-Extraktion einfügen
  const isLoggedIn = true; // Dummy-Wert für angemeldeten Zustand
  const customerNumber = "12345"; // Dummy-Wert für Kundennummer

  // Element auswählen
  const loggedElement = document.querySelector(".logged");

  // Überprüfen, ob angemeldet oder nicht und entsprechende Klasse zuweisen
  if (isLoggedIn) {
    loggedElement.textContent = customerNumber;
    loggedElement.classList.add("active");
    loggedElement.classList.remove("inactive");
    loggedElement.classList.remove("empty");
  } else {
    loggedElement.textContent = "Log In";
    loggedElement.classList.remove("active");
    loggedElement.classList.add("inactive");
    loggedElement.classList.remove("empty");
  }

  const faBarsIcon = document.querySelector('.fa-bars');
  const headerCenter = document.querySelector('.nav-center');

  faBarsIcon.addEventListener('click', function () {
    headerCenter.classList.toggle('show');
  });
</script>

</html>